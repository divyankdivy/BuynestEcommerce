<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org"
      th:replace="~{base :: layout(~{::section})}">
<head>
    <meta charset="UTF-8">
    <title>Add Product</title>
</head>
<body>
    <section>
        <div class="login-section-container">
            <div class="login-container register-container">

                <div class="logo-container">
                    <img class="logo" th:src="@{/img/nest.png}" alt="BuyNest">
                </div>

                <div class="login-card">

                    <h2 class="login-heading">Add Product</h2>
                    <p class="login-instructions">Fill in the details below to add a new product.</p>

                    <th:block th:if="${session.successMsg}">
                        <div class="alert alert-success">
                            <p>[[${session.successMsg}]]</p>
                            <th:block th:text="${@commonServiceImpl.removeSessionMessage()}"></th:block>
                        </div>
                    </th:block>

                    <th:block th:if="${session.errorMsg}">
                        <div class="alert alert-error">
                            <p>[[${session.errorMsg}]]</p>
                            <th:block th:text="${@commonServiceImpl.removeSessionMessage()}"></th:block>
                        </div>
                    </th:block>

                    <form class="login-form" enctype="multipart/form-data" th:action="@{/admin/saveProduct}" method="post">

                        <!-- Product Title -->
                        <label for="title">Product Title</label>
                        <input type="text" id="title" name="title" placeholder="Enter product title">

                        <!-- Description -->
                        <label for="description">Description</label>
                        <textarea id="description" name="description" rows="4" placeholder="Enter product description"></textarea>

                        <!-- Category -->
                        <label for="category">Select Category</label>
                        <select id="category" name="category" required>

                            <option value="">-- Select Category --</option>
                            <option th:each="cat: ${categories}"
                                    th:value="${cat.categoryId}"
                                    th:text="${cat.name}">
                            </option>
                        </select>

                        <!-- Price + Stock -->
                        <div class="form-row">
                            <div class="form-group">
                                <label for="price">Enter Price</label>
                                <input type="number" id="price" name="price" placeholder="Enter price in â‚¹">
                            </div>

                            <div class="form-group">
                                <label for="stock">Enter Stock</label>
                                <input type="number" id="stock" name="stock" placeholder="Enter available stock">
                            </div>
                        </div>

                        <div class="form-group">
                            <label>Status</label>
                            <div class="form-check">
                                <input class="form-check-input" type="radio" name="isActive" value="true" id="activeStatus" checked>
                                <label class="form-check-label" for="activeStatus">Active</label>
                            </div>
                            <div class="form-check">
                                <input class="form-check-input" type="radio" name="isActive" value="false" id="inactiveStatus">
                                <label class="form-check-label" for="inactiveStatus">Inactive</label>
                            </div>
                        </div>

                        <!-- Image Upload -->
                        <label for="image">Choose Product Image</label>
                        <input type="file" id="image" name="image" accept="image/*">

                        <!-- Submit Button -->
                        <button type="submit" class="btn-login">Add Product</button>
                    </form>

                </div>
            </div>
        </div>
    </section>
</body>
</html>