<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org" th:replace="~{base :: layout(~{::section})}">
<head>
    <meta charset="UTF-8">
    <title>Edit Product Page</title>
</head>
<body>
    <section>
        <div class="login-section-container">
            <div class="login-container register-container">

                <div class="logo-container">
                    <img class="logo" th:src="@{/img/nest.png}" alt="BuyNest">
                </div>

                <div class="login-card">

                    <h2 class="login-heading">Edit Product</h2>
                    <p class="login-instructions">Fill in the details below to add a new product.</p>

                    <form class="login-form" th:action="@{/admin/updateProduct}" enctype="multipart/form-data" method="post">

                        <input type="hidden" name="productId" th:value="${product.productId}">

                        <!-- Product Title -->
                        <label for="title">Product Title</label>
                        <input type="text" id="title" name="title" th:value="${product.title}" placeholder="Enter product title">

                        <!-- Description -->
                        <label for="description">Description</label>
                        <textarea id="description" name="description" th:text="${product.description}" rows="4" placeholder="Enter product description"></textarea>

                        <!-- Category -->
                        <label for="category">Select Category</label>
                        <select id="category" name="category" required>

                            <option value="">-- Select Category --</option>
                            <option th:each="cat: ${categories}"
                                    th:value="${cat.categoryId}"
                                    th:text="${cat.name}"
                                    th:selected="${cat.categoryId == product.category.categoryId}">
                            </option>
                        </select>

                        <!-- Price + Stock -->
                        <div class="form-row">
                            <div class="form-group">
                                <label for="price">Enter Price</label>
                                <input type="number" id="price" name="price" th:value="${product.price}" placeholder="Enter price in â‚¹">
                            </div>

                            <div class="form-group">
                                <label for="stock">Enter Stock</label>
                                <input type="number" id="stock" name="stock" th:value="${product.stock}" placeholder="Enter available stock">
                            </div>
                        </div>

                        <div class="form-group">
                            <label>Status</label>
                            <div class="form-check">
                                <input class="form-check-input" type="radio" th:checked="${product.isActive==true}" name="isActive" value="true" id="activeStatus" checked>
                                <label class="form-check-label" for="activeStatus">Active</label>
                            </div>
                            <div class="form-check">
                                <input class="form-check-input" type="radio" name="isActive" th:checked="${product.isActive==false}" value="false" id="inactiveStatus">
                                <label class="form-check-label" for="inactiveStatus">Inactive</label>
                            </div>
                        </div>

                        <!-- Image Upload -->
                        <label for="image">Choose Product Image</label>
                        <input type="file" id="image" name="image" th:value="${product.imageName}" accept="image/*">

                        <!-- Submit Button -->
                        <button type="submit" class="btn-login">Update Product</button>
                    </form>

                </div>
            </div>
        </div>
    </section>
</body>
</html>